<!DOCTYPE html>
<html>
    <head>
        <title>ODS Widgets</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
        <link rel="stylesheet" href="../../docs/css/docs.css">
        <link rel="stylesheet" href="../../dist/ods-widgets.css">
        <link rel="stylesheet" href="example.css">
    </head>
    <body class="content">
        <div class="container-fluid well" ng-app="ods-widgets">
            <ods-dataset-context context="killings,killingslist,states"
                                 killings-domain="public"
                                 killingslist-domain="public"
                                 states-domain="public"
                                 killings-dataset="killings-by-law-enforcement-officers-in-the-usa"
                                 killingslist-dataset="killings-by-law-enforcement-officers-in-the-usa"
                                 states-dataset="natural-earth-us-states-provinces-1110m"
                                 killingslist-parameters="{'sort': 'date'}">
                <ods-timerange context="[killings,killingslist]"
                               default-from="2009-01-01"
                               default-to="2014-12-09">
                </ods-timerange>
                <div class="row-fluid">
                    <div class="span6">
                        <ods-map>
                            <ods-map-layer  context="killings"
                                            display="aggregation"
                                            join-context="states"
                                            local-key="state"
                                            remote-key="name"
                                            refine-on-click-context="killingslist"></ods-map-layer>
                        </ods-map>
                    </div>
                    <div class="span6">
                        <h3>Last 10 victims</h3>
                        <ods-result-enumerator context="killingslist">
                        <strong>{{item.fields.victim}}</strong> on {{item.fields.date|moment:'LL'}}
                        </ods-result-enumerator>
                    </div>
                </div>
            </ods-dataset-context>
        </div>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js"></script>
        <script type="text/javascript" src="../../dist/ods-widgets.js"></script>
    </body>
</html>
